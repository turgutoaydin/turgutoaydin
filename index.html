<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>My Village Â· Mobil Harita</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body, html {
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: #1a3a1a;
      font-family: 'Segoe UI', 'Roboto', sans-serif;
    }

    /* Mobil dikey tam ekran container */
    .mobile-map {
      position: relative;
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      background: #0e2b0e;
      overflow: hidden;
    }

    /* NAVBAR - ÃœST */
    .navbar {
      background: linear-gradient(145deg, #2b4b2b, #1e351e);
      color: #ffefcf;
      padding: 16px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 4px solid #c2a144;
      box-shadow: 0 4px 12px rgba(0,0,0,0.6);
      z-index: 200;
      flex-shrink: 0;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .nav-brand span {
      font-size: 1.9rem;
    }

    .nav-brand h1 {
      font-size: 1.7rem;
      font-weight: 700;
      text-shadow: 2px 2px 0 #3a281e;
      letter-spacing: 2px;
    }

    .nav-menu {
      display: flex;
      gap: 8px;
    }

    .nav-icon {
      background: #5f7345;
      padding: 10px 14px;
      border-radius: 30px;
      font-size: 1.3rem;
      border: 1px solid #efd99b;
      box-shadow: inset 0 1px 4px rgba(255,255,200,0.4), 0 4px 6px black;
    }

    /* Ä°KÄ°LÄ° KOLON: HARÄ°TA + LÄ°STE (mobilde alt Ã¼st deÄŸil, yan yana ama mobil dikeyde esnek) */
    .map-panel {
      display: flex;
      flex: 1;
      overflow: hidden;
      position: relative;
      flex-direction: row; 
    }

    /* SOL LÄ°STE - HARÄ°TA Ã–ÄELERÄ° (navbar altÄ±nda, haritanÄ±n solunda) */
    .village-list {
      width: 130px;
      background: rgba(20, 30, 15, 0.9);
      backdrop-filter: blur(8px);
      border-right: 3px solid #d4b87a;
      display: flex;
      flex-direction: column;
      padding: 16px 8px;
      gap: 18px;
      overflow-y: auto;
      flex-shrink: 0;
      z-index: 150;
      box-shadow: 4px 0 20px rgba(0,0,0,0.6);
    }

    .list-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      color: #ffefcf;
      background: rgba(60, 50, 30, 0.7);
      padding: 12px 4px;
      border-radius: 18px;
      border-left: 8px solid #e6b422;
      box-shadow: inset 0 -2px 0 #2f2f1a, 0 6px 10px black;
      transition: 0.1s;
    }

    .list-item:active {
      transform: scale(0.96);
      background: #7a6a42;
    }

    .list-symbol {
      font-size: 2rem;
      filter: drop-shadow(3px 8px 6px black);
    }

    .list-text {
      font-size: 0.8rem;
      font-weight: bold;
      background: #2d281c;
      padding: 5px 8px;
      border-radius: 30px;
      margin-top: 6px;
      width: 100%;
      border: 1px solid #ffe19b;
    }

    /* SAÄ TARAF: HARÄ°TA CANVAS (bÃ¼yÃ¼k) */
    .canvas-wrapper {
      flex: 1;
      position: relative;
      background: #3a5a3a;
      overflow: hidden;
    }

    #villageCanvas {
      display: block;
      width: 100%;
      height: 100%;
      cursor: grab;
      background: #5f7e5a;
    }

    #villageCanvas:active {
      cursor: grabbing;
    }

    /* ALT NAVIGASYON BUTONLARI (tuÅŸlar Ã¼st Ã¼ste deÄŸil, yanyana ama mobil dikeyde alta sabit) */
    .bottom-nav {
      position: absolute;
      bottom: 20px;
      right: 20px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      z-index: 250;
    }

    /* Butonlar Ã¼st Ã¼ste - dikey kolon */
    .ctrl-btn {
      background: rgba(40, 50, 25, 0.95);
      backdrop-filter: blur(6px);
      border: 2px solid #efd99b;
      color: #fff2b5;
      font-size: 2.2rem;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 0 #2a2a1c, 0 12px 20px black;
      font-weight: bold;
      transition: 0.08s;
      cursor: pointer;
    }

    .ctrl-btn:active {
      transform: translateY(8px);
      box-shadow: 0 2px 0 #2a2a1c, 0 12px 20px black;
    }

    /* Koordinat bilgisi - sol alt */
    .coord-info {
      position: absolute;
      bottom: 20px;
      left: 20px;
      background: rgba(10, 18, 8, 0.85);
      backdrop-filter: blur(4px);
      color: #f5eab0;
      padding: 12px 20px;
      border-radius: 50px;
      font-size: 0.9rem;
      font-weight: 600;
      border: 1px solid #c2a144;
      letter-spacing: 1px;
      z-index: 230;
      box-shadow: 0 6px 14px black;
    }

    /* Footer yazÄ±sÄ± - orta alt ama mobilde koordinatla Ã§akÄ±ÅŸmamasÄ± iÃ§in saÄŸa yaslÄ± */
    .footer-note {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(30, 20, 10, 0.9);
      color: #ffddaa;
      padding: 8px 20px;
      border-radius: 60px;
      font-size: 0.85rem;
      backdrop-filter: blur(5px);
      border: 1px solid #fecb6e;
      white-space: nowrap;
      z-index: 260;
      pointer-events: none;
      box-shadow: 0 0 20px black;
    }

    /* Mobil uyum: Ã§ok kÃ¼Ã§Ã¼k ekranlarda liste biraz daralabilir */
    @media (max-width: 480px) {
      .village-list {
        width: 110px;
        padding: 12px 4px;
      }
      .list-symbol {
        font-size: 1.7rem;
      }
      .list-text {
        font-size: 0.7rem;
      }
      .nav-brand h1 {
        font-size: 1.3rem;
      }
      .ctrl-btn {
        width: 60px;
        height: 60px;
        font-size: 1.9rem;
      }
      .footer-note {
        font-size: 0.7rem;
        white-space: normal;
        width: 180px;
        text-align: center;
        bottom: 90px;
      }
    }

    /* iOS Ã§entiÄŸi vb iÃ§in */
    @supports (padding-top: constant(safe-area-inset-top)) {
      .navbar {
        padding-top: constant(safe-area-inset-top);
      }
    }
  </style>
</head>
<body>
  <div class="mobile-map">
    <!-- NAVBAR - ÃœST (turgutoaydin.github.io / MY VILLAGE) -->
    <div class="navbar">
      <div class="nav-brand">
        <span>ğŸŒ¾</span>
        <h1>MY VILLAGE</h1>
      </div>
      <div class="nav-menu">
        <span class="nav-icon">ğŸ”</span>
        <span class="nav-icon">ğŸ“‹</span>
      </div>
    </div>

    <!-- HARÄ°TA + LÄ°STE PANELÄ° (yan yana) -->
    <div class="map-panel">
      <!-- SOL LÄ°STE: KÃ¶y Merkezi, Halk Evleri, TarÄ±m Arazisi, Elektrik KaynaÄŸÄ±, Maden, Ã‡iftlik... -->
      <div class="village-list">
        <div class="list-item" data-type="center">
          <span class="list-symbol">ğŸ›ï¸ğŸ˜ï¸</span>
          <span class="list-text">KÃ–Y MERKEZÄ°</span>
        </div>
        <div class="list-item" data-type="house">
          <span class="list-symbol">ğŸ ğŸ¡</span>
          <span class="list-text">HALK EVLERÄ°</span>
        </div>
        <div class="list-item" data-type="farmland">
          <span class="list-symbol">ğŸŒ½ğŸŒ»ğŸŒ¾</span>
          <span class="list-text">TARIM ARAZÄ°SÄ°</span>
        </div>
        <div class="list-item" data-type="power">
          <span class="list-symbol">âš¡ğŸ”‹ğŸŒ</span>
          <span class="list-text">ELEKTRÄ°K KAYNAÄI</span>
        </div>
        <div class="list-item" data-type="mine">
          <span class="list-symbol">â›ï¸ğŸª¨</span>
          <span class="list-text">MADEN OCAÄI</span>
        </div>
        <div class="list-item" data-type="farm">
          <span class="list-symbol">ğŸ„ğŸšœğŸŒ¾</span>
          <span class="list-text">Ã‡Ä°FTLÄ°K</span>
        </div>
        <div class="list-item" data-type="water">
          <span class="list-symbol">ğŸ’§â›²</span>
          <span class="list-text">SU KAYNAÄI</span>
        </div>
      </div>

      <!-- CANVAS HARÄ°TA (tam ekranÄ±n saÄŸÄ±) -->
      <div class="canvas-wrapper">
        <canvas id="villageCanvas" width="1200" height="1600"></canvas>
      </div>
    </div>

    <!-- KOORDÄ°NAT / ZOOM BÄ°LGÄ°SÄ° (sol alt) -->
    <div class="coord-info" id="coordDisplay">ğŸ“ KaydÄ±r & YakÄ±nlaÅŸtÄ±r</div>

    <!-- ALTTA BUTONLAR (Ã¼st Ã¼ste dikey) - NAVIGATION -->
    <div class="bottom-nav">
      <button class="ctrl-btn" id="zoomInBtn">+</button>
      <button class="ctrl-btn" id="zoomOutBtn">âˆ’</button>
      <button class="ctrl-btn" id="resetBtn">âŸ²</button>
    </div>

    <!-- FOOTER: Benim KÃ¶yÃ¼m yazÄ±sÄ± (resimdeki gibi) -->
    <div class="footer-note">ğŸ§‘â€ğŸŒ¾ Benim KÃ¶yÃ¼m â€“ Maden, Elektrik, Ã‡iftlik, TarÄ±m, Evler</div>
  </div>

  <script>
    (function() {
      const canvas = document.getElementById('villageCanvas');
      const ctx = canvas.getContext('2d');

      // ---------- HARÄ°TA BOYUTU (sanal dÃ¼nya) ----------
      const MAP_WIDTH = 2000;
      const MAP_HEIGHT = 2000;

      // ---------- KAMERA ----------
      let offsetX = 300;
      let offsetY = 300;
      let zoom = 0.9;

      // SÃ¼rÃ¼kleme
      let isDragging = false;
      let dragStartX = 0, dragStartY = 0;
      let dragOffsetX = 0, dragOffsetY = 0;

      // Canvas boyutlarÄ±
      let canvasWidth = window.innerWidth - 130; // sol liste geniÅŸliÄŸi
      let canvasHeight = window.innerHeight - 60; // navbar yÃ¼ksekliÄŸi

      const MIN_ZOOM = 0.5;
      const MAX_ZOOM = 2.2;
      const ZOOM_STEP = 0.15;

      // ---------- KÃ–Y Ã–ÄELERÄ° (My Village) ----------
      const villageItems = [
        // KÃ¶y Merkezi
        { type: 'center', x: 550, y: 450, symbol: 'ğŸ›ï¸ğŸ˜ï¸', label: 'KÃ–Y MERKEZÄ°', color: '#c46210' },
        // Halk Evleri
        { type: 'house', x: 400, y: 750, symbol: 'ğŸ ', label: 'HALK EVÄ°', color: '#ac7339' },
        { type: 'house', x: 520, y: 880, symbol: 'ğŸ ', label: 'HALK EVÄ°', color: '#ac7339' },
        { type: 'house', x: 290, y: 820, symbol: 'ğŸ¡', label: 'HALK EVÄ°', color: '#ac7339' },
        { type: 'house', x: 650, y: 680, symbol: 'ğŸšï¸', label: 'ESKÄ° EV', color: '#8b6b4d' },
        { type: 'house', x: 780, y: 590, symbol: 'ğŸ ', label: 'HALK EVÄ°', color: '#ac7339' },
        { type: 'house', x: 230, y: 540, symbol: 'ğŸ¡', label: 'KÃ–Y EVÄ°', color: '#ac7339' },
        // TarÄ±m Arazisi
        { type: 'farmland', x: 220, y: 420, symbol: 'ğŸŒ½ğŸŒ»ğŸŒ¾', label: 'TARIM ARAZÄ°SÄ°', color: '#6b8e23' },
        { type: 'farmland', x: 1200, y: 750, symbol: 'ğŸŒ¿ğŸ¥•ğŸŒ½', label: 'BAHÃ‡ELER', color: '#5a7a2a' },
        { type: 'farmland', x: 950, y: 380, symbol: 'ğŸŒ¾ğŸšœ', label: 'BUÄDAY TARLASI', color: '#6b8e23' },
        { type: 'farmland', x: 1650, y: 550, symbol: 'ğŸŒ±ğŸŒ½', label: 'FÄ°DELÄ°K', color: '#3a653a' },
        // Elektrik KaynaÄŸÄ±
        { type: 'power', x: 1450, y: 1000, symbol: 'âš¡ğŸ”‹ğŸŒ', label: 'ELEKTRÄ°K KAYNAÄI', color: '#f0b00a' },
        { type: 'power', x: 1000, y: 460, symbol: 'âš¡ğŸ—¼', label: 'TRAFO', color: '#e6b422' },
        { type: 'power', x: 1800, y: 320, symbol: 'ğŸ’¨ğŸŒ¬ï¸âš¡', label: 'RÃœZGAR TÃœRBÄ°NÄ°', color: '#b0d0ff' },
        // Maden OcaÄŸÄ±
        { type: 'mine', x: 1100, y: 1350, symbol: 'â›ï¸ğŸª¨ğŸ›’', label: 'MADEN OCAÄI', color: '#7a3b2e' },
        { type: 'mine', x: 920, y: 1460, symbol: 'âš’ï¸â›°ï¸', label: 'OCAK', color: '#6b4a3c' },
        { type: 'mine', x: 1300, y: 1280, symbol: 'â›ï¸ğŸª¨', label: 'MADEN GÄ°RÄ°ÅÄ°', color: '#7a3b2e' },
        // Ã‡iftlik
        { type: 'farm', x: 1360, y: 400, symbol: 'ğŸ„ğŸ‘ğŸšœ', label: 'Ã‡Ä°FTLÄ°K', color: '#b86f2e' },
        { type: 'farm', x: 1180, y: 220, symbol: 'ğŸğŸ”ğŸŒ¾', label: 'AHIR & KÃœMES', color: '#a5652c' },
        { type: 'farm', x: 1580, y: 500, symbol: 'ğŸ–ğŸŒ½', label: 'BESÄ° Ã‡Ä°FTLÄ°ÄÄ°', color: '#b86f2e' },
        // Su KaynaÄŸÄ±
        { type: 'water', x: 1880, y: 1250, symbol: 'ğŸ’§âš™ï¸', label: 'SU POMPASI', color: '#368dad' },
        { type: 'water', x: 280, y: 230, symbol: 'â›²ğŸ§º', label: 'KÃ–Y Ã‡EÅMESÄ°', color: '#2e8b8b' },
        // KÃ¶y OdasÄ± / Okul
        { type: 'other', x: 820, y: 300, symbol: 'ğŸ•ŒğŸ“š', label: 'KÃ–Y ODASI', color: '#9c7c5d' },
        { type: 'other', x: 1920, y: 880, symbol: 'ğŸ«', label: 'OKUL', color: '#b38b6d' },
      ];

      // Yollar
      const roads = [
        { x1: 200, y1: 500, x2: 1000, y2: 500, width: 20, color: '#7e6b57' },
        { x1: 550, y1: 300, x2: 550, y2: 1000, width: 18, color: '#6a4f3a' },
        { x1: 1000, y1: 200, x2: 1000, y2: 800, width: 16, color: '#8f7a64' },
        { x1: 1300, y1: 400, x2: 1800, y2: 400, width: 20, color: '#7e6b57' },
        { x1: 1500, y1: 180, x2: 1500, y2: 650, width: 16, color: '#8b715a' },
      ];

      // Dereler
      const rivers = [
        { x1: 1550, y1: 900, x2: 1950, y2: 1050, width: 12, color: '#368dad' },
        { x1: 450, y1: 1500, x2: 850, y2: 1350, width: 14, color: '#479fb1' },
      ];

      // Tarla sÄ±nÄ±rlarÄ±
      const fieldBounds = [
        { x: 150, y: 350, w: 300, h: 220, color: '#b2946b' },
        { x: 1150, y: 650, w: 350, h: 230, color: '#a8895a' },
        { x: 900, y: 300, w: 280, h: 180, color: '#9c854e' },
      ];

      // ---------- DÃ–NÃœÅÃœM ----------
      function worldToScreen(worldX, worldY) {
        return {
          x: (worldX - offsetX) * zoom,
          y: (worldY - offsetY) * zoom
        };
      }

      // ---------- Ã‡Ä°ZÄ°M ----------
      function drawMap() {
        // Arkaplan
        ctx.fillStyle = '#6f8c5d';
        ctx.fillRect(0, 0, canvasWidth, canvasHeight);

        // Ã‡im dokusu
        ctx.fillStyle = '#7fa065';
        for (let i = 0; i < canvasWidth; i += 40) {
          for (let j = 0; j < canvasHeight; j += 40) {
            ctx.fillStyle = (i + j) % 80 === 0 ? '#6f8c5d' : '#7fa065';
            ctx.fillRect(i, j, 20, 20);
          }
        }

        ctx.save();
        ctx.translate(-offsetX * zoom, -offsetY * zoom);
        ctx.scale(zoom, zoom);

        // Tarla sÄ±nÄ±rlarÄ±
        ctx.lineWidth = 3 / zoom;
        ctx.setLineDash([8 / zoom, 10 / zoom]);
        fieldBounds.forEach(field => {
          ctx.strokeStyle = field.color;
          ctx.fillStyle = '#b1cf7a30';
          ctx.fillRect(field.x, field.y, field.w, field.h);
          ctx.strokeRect(field.x, field.y, field.w, field.h);
        });

        // Yollar
        ctx.setLineDash([]);
        roads.forEach(road => {
          ctx.beginPath();
          ctx.moveTo(road.x1, road.y1);
          ctx.lineTo(road.x2, road.y2);
          ctx.strokeStyle = road.color;
          ctx.lineWidth = road.width;
          ctx.lineCap = 'round';
          ctx.stroke();
          ctx.strokeStyle = '#4a3c2e';
          ctx.lineWidth = road.width + 2;
          ctx.stroke();
        });

        // Dereler
        rivers.forEach(river => {
          ctx.beginPath();
          ctx.moveTo(river.x1, river.y1);
          ctx.lineTo(river.x2, river.y2);
          ctx.strokeStyle = river.color;
          ctx.lineWidth = river.width;
          ctx.stroke();
          ctx.strokeStyle = '#c4e6f1';
          ctx.lineWidth = river.width - 2;
          ctx.stroke();
        });

        // KÃ¶y Ã¶ÄŸeleri
        ctx.font = `bold ${26 / zoom}px "Segoe UI", "Roboto", sans-serif`;
        ctx.textAlign = 'center';
        ctx.shadowColor = 'black';
        ctx.shadowBlur = 8 / zoom;
        ctx.shadowOffsetX = 3 / zoom;
        ctx.shadowOffsetY = 3 / zoom;

        villageItems.forEach(item => {
          // Sembol
          ctx.font = `${34 / zoom}px "Segoe UI", "Roboto", sans-serif`;
          ctx.fillStyle = item.color || '#fffbe3';
          ctx.fillText(item.symbol, item.x, item.y - 30 / zoom);

          // Etiket arkaplanÄ±
          ctx.font = `bold ${18 / zoom}px "Segoe UI", "Roboto", sans-serif`;
          ctx.fillStyle = '#2d281cee';
          const labelWidth = ctx.measureText(item.label).width + 22 / zoom;
          const labelHeight = 28 / zoom;
          ctx.fillRect(item.x - labelWidth/2, item.y - 8 / zoom, labelWidth, labelHeight);

          // Etiket yazÄ±sÄ±
          ctx.fillStyle = '#f7f1cf';
          ctx.shadowBlur = 6 / zoom;
          ctx.fillText(item.label, item.x, item.y + 12 / zoom);
        });

        // AÄŸaÃ§lar
        ctx.font = `${28 / zoom}px "Segoe UI"`;
        ctx.fillStyle = '#3c6e47';
        for (let i = 0; i < 20; i++) {
          ctx.fillText('ğŸŒ²', 150 + i * 80, 1600);
          ctx.fillText('ğŸŒ³', 200 + i * 90, 1750);
        }

        ctx.restore();
      }

      // ---------- KAMERA SINIRLARI ----------
      function clampCamera() {
        const maxOffsetX = MAP_WIDTH - canvasWidth / zoom;
        const maxOffsetY = MAP_HEIGHT - canvasHeight / zoom;
        offsetX = Math.max(0, Math.min(offsetX, maxOffsetX));
        offsetY = Math.max(0, Math.min(offsetY, maxOffsetY));
        zoom = Math.min(MAX_ZOOM, Math.max(MIN_ZOOM, zoom));
      }

      // ---------- BOYUTLANDIRMA ----------
      function resizeCanvas() {
        canvasWidth = window.innerWidth - 130; // sol liste geniÅŸliÄŸi
        canvasHeight = window.innerHeight - 60; // navbar yÃ¼ksekliÄŸi
        canvas.width = canvasWidth;
        canvas.height = canvasHeight;
        clampCamera();
        drawMap();
        updateCoordText();
      }

      function updateCoordText() {
        const zoomPercent = Math.round(zoom * 100);
        document.getElementById('coordDisplay').innerHTML = `ğŸ“ Zoom: %${zoomPercent} | SÃ¼rÃ¼kle`;
      }

      // ---------- SÃœRÃœKLEME ----------
      function onMouseDown(e) {
        isDragging = true;
        dragStartX = e.clientX;
        dragStartY = e.clientY;
        dragOffsetX = offsetX;
        dragOffsetY = offsetY;
        canvas.style.cursor = 'grabbing';
      }

      function onMouseMove(e) {
        if (!isDragging) return;
        e.preventDefault();
        const dx = e.clientX - dragStartX;
        const dy = e.clientY - dragStartY;
        offsetX = dragOffsetX - dx / zoom;
        offsetY = dragOffsetY - dy / zoom;
        clampCamera();
        drawMap();
        updateCoordText();
      }

      function onMouseUp() {
        isDragging = false;
        canvas.style.cursor = 'grab';
      }

      // ---------- ZOOM ----------
      function zoomAt(delta, mouseX, mouseY) {
        const worldX = offsetX + mouseX / zoom;
        const worldY = offsetY + mouseY / zoom;
        zoom *= (1 + delta);
        zoom = Math.min(MAX_ZOOM, Math.max(MIN_ZOOM, zoom));
        offsetX = worldX - mouseX / zoom;
        offsetY = worldY - mouseY / zoom;
        clampCamera();
        drawMap();
        updateCoordText();
      }

      function onWheel(e) {
        e.preventDefault();
        const rect = canvas.getBoundingClientRect();
        const mouseX = e.clientX - rect.left;
        const mouseY = e.clientY - rect.top;
        const delta = -Math.sign(e.deltaY) * 0.1;
        zoomAt(delta, mouseX, mouseY);
      }

      // ---------- BUTONLAR ----------
      function zoomIn() {
        zoomAt(0.15, canvasWidth/2, canvasHeight/2);
      }
      function zoomOut() {
        zoomAt(-0.15, canvasWidth/2, canvasHeight/2);
      }
      function resetView() {
        zoom = 0.9;
        offsetX = 300;
        offsetY = 300;
        clampCamera();
        drawMap();
        updateCoordText();
      }

      // ---------- LÄ°STE TIKLAMA: haritada o tÃ¼re odaklan ----------
      function focusOnType(type) {
        const item = villageItems.find(i => i.type === type);
        if (item) {
          offsetX = item.x - canvasWidth / (2 * zoom);
          offsetY = item.y - canvasHeight / (2 * zoom);
          clampCamera();
          drawMap();
          updateCoordText();
          alert(`ğŸ“ ${item.label} haritada odaklandÄ±.`);
        }
      }

      // ---------- EVENTLER ----------
      window.addEventListener('resize', resizeCanvas);
      canvas.addEventListener('mousedown', onMouseDown);
      window.addEventListener('mousemove', onMouseMove);
      window.addEventListener('mouseup', onMouseUp);
      canvas.addEventListener('wheel', onWheel, { passive: false });

      document.getElementById('zoomInBtn').addEventListener('click', zoomIn);
      document.getElementById('zoomOutBtn').addEventListener('click', zoomOut);
      document.getElementById('resetBtn').addEventListener('click', resetView);

      // Liste tÄ±klama olaylarÄ±
      document.querySelectorAll('.list-item').forEach(el => {
        el.addEventListener('click', function() {
          const type = this.dataset.type;
          focusOnType(type);
        });
      });

      // Canvas tÄ±klama
      canvas.addEventListener('click', function(e) {
        const rect = canvas.getBoundingClientRect();
        const mouseX = e.clientX - rect.left;
        const mouseY = e.clientY - rect.top;
        const worldX = offsetX + mouseX / zoom;
        const worldY = offsetY + mouseY / zoom;

        let found = null;
        for (let item of villageItems) {
          const dx = (item.x - worldX) * zoom;
          const dy = (item.y - 30 - worldY) * zoom;
          if (Math.hypot(dx, dy) < 50) {
            found = item;
            break;
          }
        }
        if (found) {
          alert(`ğŸ“ ${found.label}\n${found.symbol}`);
        } else {
          alert('ğŸŒ¾ My Village - HaritayÄ± keÅŸfet!');
        }
      });

      // BaÅŸlangÄ±Ã§
      resizeCanvas();
    })();
  </script>
</body>
</html>