<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>My Village â€“ Pixel Map</title>

<style>
  html, body {
    margin: 0;
    padding: 0;
    background: #6fcf97;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    touch-action: none;
  }

  canvas {
    image-rendering: pixelated;
    image-rendering: crisp-edges;
    border-radius: 8px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.25);
  }
</style>
</head>
<body>

<canvas id="game" width="300" height="180"></canvas>

<script>
/* ===============================
   BASIC SETUP
================================ */
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const TILE = 20;
const COLS = 15;
const ROWS = 9;

/*
0 = grass
1 = road
2 = house
3 = tree
4 = farm
5 = tent
6 = campfire
*/

const MAP = [
  [0,0,0,0,3,0,0,0,0,3,0,0,0,0,0],
  [0,2,1,1,1,1,1,0,1,1,1,1,2,0,0],
  [0,0,0,0,3,0,0,0,0,3,0,0,0,0,0],
  [0,0,4,0,1,1,1,1,1,0,5,0,0,0,0],
  [0,0,0,0,0,0,1,0,0,0,6,0,0,0,0],
  [0,2,1,1,1,0,1,0,0,2,1,1,1,2,0],
  [0,0,0,0,3,0,1,0,0,0,0,0,0,0,0],
  [0,2,1,1,1,1,1,1,1,1,1,1,2,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
];

/* ===============================
   DRAW FUNCTIONS
================================ */
function drawTile(x, y, type) {
  const px = x * TILE;
  const py = y * TILE;

  if (type === 0) { // grass
    ctx.fillStyle = "#4caf50";
    ctx.fillRect(px, py, TILE, TILE);
  }

  if (type === 1) { // road
    ctx.fillStyle = "#e6d3a3";
    ctx.fillRect(px, py, TILE, TILE);
  }

  if (type === 2) { // house
    ctx.fillStyle = "#8d6e63";
    ctx.fillRect(px+2, py+6, TILE-4, TILE-6);
    ctx.fillStyle = "#a1887f";
    ctx.fillRect(px+1, py+2, TILE-2, 6);
  }

  if (type === 3) { // tree
    ctx.fillStyle = "#2e7d32";
    ctx.beginPath();
    ctx.arc(px+10, py+10, 8, 0, Math.PI*2);
    ctx.fill();
  }

  if (type === 4) { // farm
    ctx.fillStyle = "#795548";
    ctx.fillRect(px+2, py+2, TILE-4, TILE-4);
    ctx.fillStyle = "#8bc34a";
    ctx.fillRect(px+4, py+4, TILE-8, TILE-8);
  }

  if (type === 5) { // tent
    ctx.fillStyle = "#ffb74d";
    ctx.beginPath();
    ctx.moveTo(px+10, py+3);
    ctx.lineTo(px+2, py+16);
    ctx.lineTo(px+18, py+16);
    ctx.closePath();
    ctx.fill();
  }

  if (type === 6) { // campfire
    ctx.fillStyle = "#ff7043";
    ctx.beginPath();
    ctx.arc(px+10, py+12, 4, 0, Math.PI*2);
    ctx.fill();
  }
}

/* ===============================
   RENDER MAP
================================ */
function render() {
  for (let y = 0; y < ROWS; y++) {
    for (let x = 0; x < COLS; x++) {
      drawTile(x, y, MAP[y][x]);
    }
  }
}

render();

/* ===============================
   CLICK = TILE INFO
================================ */
canvas.addEventListener("click", e => {
  const rect = canvas.getBoundingClientRect();
  const x = Math.floor((e.clientX - rect.left) / TILE);
  const y = Math.floor((e.clientY - rect.top) / TILE);

  const tile = MAP[y][x];
  console.log("Tile:", { x, y, type: tile });
});
</script>

</body>
</html>