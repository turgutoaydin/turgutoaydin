<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
<title>K√∂y Merkezi ‚Äì 3D Demo</title>

<style>
  body {
    margin: 0;
    background: radial-gradient(circle at top, #1a3d2f, #08150f);
    overflow: hidden;
    font-family: system-ui, sans-serif;
    color: white;
  }

  #ui {
    position: fixed;
    inset: 0;
    pointer-events: none;
  }

  .top-ui {
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    background: rgba(255,255,255,0.08);
    backdrop-filter: blur(12px);
    border-radius: 14px;
    padding: 10px 14px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    pointer-events: auto;
  }

  .stat {
    font-size: 12px;
    opacity: .8;
  }

  .bottom-ui {
    position: absolute;
    bottom: 16px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
    pointer-events: auto;
  }

  .btn {
    background: linear-gradient(180deg, #facc15, #eab308);
    color: #111;
    padding: 12px 16px;
    border-radius: 14px;
    font-weight: 700;
    box-shadow: inset 0 -4px 0 rgba(0,0,0,.3), 0 10px 25px rgba(0,0,0,.5);
    border: none;
  }

  .btn:active {
    transform: translateY(3px);
    box-shadow: inset 0 -1px 0 rgba(0,0,0,.4);
  }
</style>
</head>
<body>

<canvas id="scene"></canvas>

<!-- UI LAYER -->
<div id="ui">
  <div class="top-ui">
    <div>
      <div class="stat">üè∞ K√∂y Merkezi</div>
      <strong>Seviye 7</strong>
    </div>
    <div class="stat">üòä Halk: %82</div>
  </div>

  <div class="bottom-ui">
    <button class="btn">üë• Halk</button>
    <button class="btn">üí∞ Yatƒ±rƒ±m</button>
    <button class="btn">üìä Y√∂netim</button>
  </div>
</div>

<script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>

<script>
/* =========================
   BASIC THREE.JS SETUP
========================= */

const canvas = document.getElementById("scene");
const scene = new THREE.Scene();

const camera = new THREE.PerspectiveCamera(
  45,
  window.innerWidth / window.innerHeight,
  0.1,
  100
);

camera.position.set(0, 6, 12);

const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

/* =========================
   LIGHTS
========================= */

scene.add(new THREE.AmbientLight(0xffffff, 0.7));

const sun = new THREE.DirectionalLight(0xfff2cc, 1.2);
sun.position.set(10, 15, 10);
scene.add(sun);

/* =========================
   GROUND
========================= */

const ground = new THREE.Mesh(
  new THREE.CircleGeometry(12, 64),
  new THREE.MeshStandardMaterial({ color: 0x2f6b4f })
);
ground.rotation.x = -Math.PI / 2;
scene.add(ground);

/* =========================
   VILLAGE CENTER BUILDING
========================= */

const base = new THREE.Mesh(
  new THREE.CylinderGeometry(2.5, 3, 2, 6),
  new THREE.MeshStandardMaterial({ color: 0x8b5a2b })
);
base.position.y = 1;
scene.add(base);

const roof = new THREE.Mesh(
  new THREE.ConeGeometry(3.2, 2, 6),
  new THREE.MeshStandardMaterial({ color: 0xd97706 })
);
roof.position.y = 3;
scene.add(roof);

/* =========================
   NPCs (PEOPLE)
========================= */

const npcGroup = new THREE.Group();

for (let i = 0; i < 8; i++) {
  const npc = new THREE.Mesh(
    new THREE.SphereGeometry(0.25, 16, 16),
    new THREE.MeshStandardMaterial({ color: 0xfcd34d })
  );

  const angle = (i / 8) * Math.PI * 2;
  npc.position.set(
    Math.cos(angle) * 4,
    0.25,
    Math.sin(angle) * 4
  );

  npcGroup.add(npc);
}

scene.add(npcGroup);

/* =========================
   AURA EFFECT (POWER)
========================= */

const aura = new THREE.Mesh(
  new THREE.RingGeometry(3.2, 3.6, 64),
  new THREE.MeshBasicMaterial({
    color: 0xfacc15,
    transparent: true,
    opacity: 0.6,
    side: THREE.DoubleSide
  })
);
aura.rotation.x = -Math.PI / 2;
scene.add(aura);

/* =========================
   INTERACTION (ROTATE)
========================= */

let isTouching = false;
let lastX = 0;

window.addEventListener("touchstart", e => {
  isTouching = true;
  lastX = e.touches[0].clientX;
});

window.addEventListener("touchend", () => isTouching = false);

window.addEventListener("touchmove", e => {
  if (!isTouching) return;
  const dx = e.touches[0].clientX - lastX;
  scene.rotation.y += dx * 0.005;
  lastX = e.touches[0].clientX;
});

/* =========================
   ANIMATION LOOP
========================= */

function animate() {
  requestAnimationFrame(animate);

  npcGroup.children.forEach((npc, i) => {
    npc.position.y = 0.25 + Math.sin(Date.now() * 0.002 + i) * 0.05;
  });

  aura.rotation.z += 0.01;

  renderer.render(scene, camera);
}

animate();

/* =========================
   RESIZE
========================= */

window.addEventListener("resize", () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>