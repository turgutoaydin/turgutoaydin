<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Pinball Football – Mini App</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
    background:#022c14;
    font-family:Arial, Helvetica, sans-serif;
}

/* SAFE AREA BELOW TELEGRAM TOP BAR */
#game{
    position:relative;
    width:100%;
    height:100vh;
    padding-top:60px; /* üst bar boşluğu */
    overflow:hidden;
}

/* FIELD BACKGROUND */
#field{
    position:absolute;
    inset:0;
    background:radial-gradient(circle at center, #0cb04a 20%, #0b7f3a 55%, #085d2b 90%);
}

/* TOUCH OF STADIUM DARK OUTER EDGE */
#vignette{
    position:absolute;
    inset:0;
    pointer-events:none;
    box-shadow:inset 0 0 120px rgba(0,0,0,0.55);
}

/* SIDE AD BOARDS */
.ad-vertical{
    position:absolute;
    width:28px;
    height:70%;
    top:15%;
    background:#ffffff18;
    border:1px solid #ffffff35;
    color:white;
    writing-mode:vertical-rl;
    text-orientation:upright;
    font-size:11px;
    text-align:center;
    letter-spacing:2px;
}
#ad-left{left:6px;}
#ad-right{right:6px;}

/* MAIN FIELD LINES */
.line{
    position:absolute;
    border:2px solid rgba(255,255,255,0.7);
}
#half-line{top:50%; width:100%;}
#center-circle{
    width:140px;height:140px;
    border-radius:50%;
    top:50%;left:50%;
    transform:translate(-50%,-50%);
    border:2px solid rgba(255,255,255,0.6);
}

/* PENALTY AREAS */
.box{
    width:70%;
    height:80px;
    left:50%;
    transform:translateX(-50%);
    border:2px solid rgba(255,255,255,0.7);
}
#top-box{top:80px;}
#bottom-box{bottom:80px;}

/* GOALS */
.goal{
    width:130px;height:22px;
    left:50%;
    transform:translateX(-50%);
    border:3px solid white;
    background:#ffffff30;
    border-radius:4px;
}
#top-goal{top:50px;}
#bottom-goal{bottom:50px;}

/* BALL */
#ball{
    width:24px;height:24px;
    border-radius:50%;
    background:white;
    position:absolute;
    top:52%;
    left:50%;
    transform:translate(-50%,-50%);
    box-shadow:0 0 8px rgba(0,0,0,0.6);
}

/* GOALKEEPERS */
.keeper{
    width:60px;height:16px;
    border-radius:16px;
}
#ai-keeper{
    background:linear-gradient(#1b5dff,#002fa3);
    position:absolute;
    top:84px;
    left:50%;
    transform:translateX(-50%);
}
#user-keeper{
    background:linear-gradient(#ffc400,#b28900);
    position:absolute;
    bottom:84px;
    left:50%;
    transform:translateX(-50%);
}

/* FLIPPERS / FEET */
.player{
    width:90px;height:18px;
    background:#111;
    border-radius:18px;
    position:absolute;
}
#left-player{bottom:150px;left:20%;}
#right-player{bottom:150px;right:20%;}

/* HUD */
#hud{
    position:absolute;
    top:65px;
    width:100%;
    text-align:center;
    color:white;
    font-weight:bold;
    font-size:15px;
}

/* CONTROLS */
#controls{
    position:absolute;
    bottom:10px;
    width:100%;
    display:flex;
    justify-content:space-around;
}
button{
    width:44%;
    padding:12px;
    border-radius:10px;
    background:#ffffff25;
    color:white;
    border:1px solid #ffffff40;
    font-size:15px;
}
</style>
</head>

<body>

<div id="game">

    <div id="field"></div>
    <div id="vignette"></div>

    <!-- vertical side ads -->
    <div id="ad-left" class="ad-vertical">ETOURGOOD · PINBALL FOOTBALL</div>
    <div id="ad-right" class="ad-vertical">SPONSOR · TRAVEL MORE</div>

    <!-- markings -->
    <div id="half-line" class="line"></div>
    <div id="center-circle"></div>

    <div id="top-box" class="box"></div>
    <div id="bottom-box" class="box"></div>

    <!-- goals -->
    <div id="top-goal" class="goal"></div>
    <div id="bottom-goal" class="goal"></div>

    <!-- actors -->
    <div id="ball"></div>
    <div id="ai-keeper" class="keeper"></div>
    <div id="user-keeper" class="keeper"></div>

    <div id="left-player" class="player"></div>
    <div id="right-player" class="player"></div>

    <!-- scoreboard -->
    <div id="hud">
        BEN: <span id="me">0</span> – RAKİP: <span id="ai">0</span>
        | ⏱ <span id="time">03:00</span>
    </div>

    <!-- controls -->
    <div id="controls">
        <button id="leftBtn">SOL AYAK</button>
        <button id="rightBtn">SAĞ AYAK</button>
    </div>

</div>

<script>
const ball=document.getElementById("ball");
const aiKeeper=document.getElementById("ai-keeper");
const userScore=document.getElementById("me");
const aiScore=document.getElementById("ai");
const timeEl=document.getElementById("time");

let bx=240,by=420,vx=1.7,vy=-2.2;
let sMe=0,sAi=0;
let time=180;

setInterval(()=>{
    if(time<=0)return;
    time--;
    const m=String(Math.floor(time/60)).padStart(2,"0");
    const s=String(time%60).padStart(2,"0");
    timeEl.textContent=`${m}:${s}`;
},1000);

function reset(dir){
    bx=240;by=420;
    vx=dir==="me"?1.8:-1.8;
    vy=dir==="me"?-2.4:2.4;
}

function loop(){
    bx+=vx;by+=vy;
    vy+=0.03;

    if(bx<20||bx>460)vx*=-1;
    if(by<40||by>820)vy*=-1;

    // AI keeper tracking
    const target=bx;
    const current=parseFloat(aiKeeper.style.left)||240;
    aiKeeper.style.left=(current+(target-current)*0.08)+"px";

    // goals
    if(by<60 && Math.abs(bx-240)<60){
        sMe++; userScore.textContent=sMe; reset("ai");
    }
    if(by>780 && Math.abs(bx-240)<60){
        sAi++; aiScore.textContent=sAi; reset("me");
    }

    ball.style.left=bx+"px";
    ball.style.top=by+"px";

    requestAnimationFrame(loop);
}
loop();

document.getElementById("leftBtn").onclick=()=>{vy=-3.4;vx=-2.2;}
document.getElementById("rightBtn").onclick=()=>{vy=-3.4;vx=2.2;}
</script>

</body>
</html>