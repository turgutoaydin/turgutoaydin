<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Football Pinball Match</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
    background:#06220f;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    font-family:Arial;
}

/* SAFE GAME AREA UNDER TELEGRAM TOP BAR */
#game{
    width:100%;
    max-width:480px;
    height:100vh;
    position:relative;
    overflow:hidden;
    background:#0c7a36;
}

/* STADIUM GRADIENT */
#stadium{
    position:absolute;
    inset:0;
    background:radial-gradient(circle at center,#0ca84a 30%, #0a6d34 70%, #064a22 100%);
}

/* FIELD LINES */
.line{
    position:absolute;
    border:2px solid rgba(255,255,255,0.6);
}
#midline{
    top:50%;
    width:100%;
}
#center-circle{
    width:140px;
    height:140px;
    border-radius:50%;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    border:2px solid rgba(255,255,255,0.4);
}

/* BOX AREAS */
.goal-box{
    width:70%;
    height:70px;
    left:50%;
    transform:translateX(-50%);
    border:2px solid rgba(255,255,255,0.5);
}
#top-box{top:40px;}
#bottom-box{bottom:40px;}

/* GOALS */
.goal{
    position:absolute;
    width:140px;
    height:26px;
    left:50%;
    transform:translateX(-50%);
    border:3px solid white;
    border-radius:4px;
    background:#ffffff30;
}
#top-goal{top:10px;}
#bottom-goal{bottom:10px;}

/* AD BOARDS */
.ad{
    position:absolute;
    width:90%;
    height:24px;
    left:50%;
    transform:translateX(-50%);
    background:#ffffff20;
    border:1px solid #ffffff30;
    color:white;
    text-align:center;
    font-size:11px;
    letter-spacing:2px;
}
#ad-top{top:100px;}
#ad-bottom{bottom:100px;}

/* BALL */
#ball{
    width:26px;
    height:26px;
    border-radius:50%;
    background:white;
    position:absolute;
    left:50%;
    top:55%;
    transform:translate(-50%,-50%);
    box-shadow:0 0 8px rgba(0,0,0,0.5);
}

/* PLAYERS / FLIPPERS */
.player{
    position:absolute;
    width:80px;
    height:16px;
    border-radius:16px;
    background:linear-gradient(#202020,#000000);
}
#left-player{bottom:140px; left:22%;}
#right-player{bottom:140px; right:22%;}

/* GOALKEEPER AI */
.goalkeeper{
    width:60px;
    height:16px;
    border-radius:16px;
    background:linear-gradient(#0044ff,#001a80);
    position:absolute;
}
#ai-keeper{top:50px; left:50%; transform:translateX(-50%);}
#user-keeper{bottom:50px; left:50%; transform:translateX(-50%); background:linear-gradient(#ffcc00,#c99800);}

/* SCORE & TIMER */
#hud{
    position:absolute;
    top:8px;
    width:100%;
    text-align:center;
    color:white;
    font-weight:bold;
}
#hud span{margin:0 10px;}

/* CONTROLS */
#controls{
    position:absolute;
    bottom:10px;
    width:100%;
    display:flex;
    justify-content:space-around;
}
button{
    width:45%;
    padding:12px 0;
    border-radius:8px;
    background:#ffffff30;
    border:1px solid #ffffff50;
    color:white;
    font-size:15px;
}
</style>
</head>

<body>

<div id="game">

    <div id="stadium"></div>

    <!-- LINES -->
    <div id="midline" class="line"></div>
    <div id="center-circle"></div>

    <div id="top-box" class="goal-box"></div>
    <div id="bottom-box" class="goal-box"></div>

    <!-- GOALS -->
    <div id="top-goal" class="goal"></div>
    <div id="bottom-goal" class="goal"></div>

    <!-- AD BOARDS -->
    <div id="ad-top" class="ad">ETOURGOOD · LIVE FOOTBALL PINBALL · MINI APP</div>
    <div id="ad-bottom" class="ad">SPONSOR · TRAVEL MORE · PLAY MORE</div>

    <!-- PLAY ELEMENTS -->
    <div id="ball"></div>

    <div id="left-player" class="player"></div>
    <div id="right-player" class="player"></div>

    <div id="ai-keeper" class="goalkeeper"></div>
    <div id="user-keeper" class="goalkeeper"></div>

    <!-- HUD -->
    <div id="hud">
        <span>BEN: <b id="userScore">0</b></span>
        <span>–</span>
        <span>RAKİP: <b id="aiScore">0</b></span>
        <span>⏱ <b id="time">03:00</b></span>
    </div>

    <!-- CONTROLS -->
    <div id="controls">
        <button id="leftBtn">SOL AYAK</button>
        <button id="rightBtn">SAĞ AYAK</button>
    </div>
</div>

<script>
const ball=document.getElementById("ball");
const aiKeeper=document.getElementById("ai-keeper");
const userKeeper=document.getElementById("user-keeper");
const userScoreEl=document.getElementById("userScore");
const aiScoreEl=document.getElementById("aiScore");
const timeEl=document.getElementById("time");

let bx=220, by=430, vx=1.8, vy=-2.4;
let userScore=0, aiScore=0;

let kickoff="user"; // avantaj yönü

/* TIMER – 3 MINUTE MATCH */
let time=180;
setInterval(()=>{
    time--;
    if(time<=0){ alert("Maç bitti! Skor "+userScore+" - "+aiScore); time=0;}
    const m=Math.floor(time/60).toString().padStart(2,"0");
    const s=(time%60).toString().padStart(2,"0");
    timeEl.textContent=`${m}:${s}`;
},1000);

/* GAME LOOP */
function loop(){
    bx+=vx; by+=vy;
    vy+=0.03;

    if(bx<10||bx>450)vx*=-1;
    if(by<10||by>780)vy*=-1;

    /* AI GOALKEEPER TRACKING */
    const targetX=bx;
    const gkX=parseFloat(aiKeeper.style.left)||240;
    aiKeeper.style.left = (gkX + (targetX-gkX)*0.05)+"px";

    /* GOAL CHECKS */
    const goalTop = by<40;
    const goalBottom = by>760;

    if(goalTop && Math.abs(bx-240)<60){
        userScore++;
        reset("ai");
    }
    if(goalBottom && Math.abs(bx-240)<60){
        aiScore++;
        reset("user");
    }

    ball.style.left=bx+"px";
    ball.style.top=by+"px";

    userScoreEl.textContent=userScore;
    aiScoreEl.textContent=aiScore;

    requestAnimationFrame(loop);
}
loop();

/* RESET AFTER GOAL */
function reset(side){
    bx=240; by=400;
    vx= side==="user" ? 1.8 : -1.8;
    vy= side==="user" ? -2.2 : 2.2;
}

/* PLAYER SHOTS */
document.getElementById("leftBtn").onclick=()=>{vy=-3.5; vx=-2.5;}
document.getElementById("rightBtn").onclick=()=>{vy=-3.5; vx=2.5;}
</script>

</body>
</html>