<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Nemrut Dağı - Gizemli Hazine Haritası</title>

    <!-- Mapbox GL JS (3D + güzel stil için) -->
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.7.0/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.7.0/mapbox-gl.css" rel="stylesheet" />

    <!-- Özel cartoon-hazine haritası stili (ücretsiz) -->
    <style>
        body { 
            margin: 0; 
            padding: 0; 
            background: #1a120b; 
            overflow: hidden; 
            font-family: 'Pirata One', cursive; 
        }
        #map { 
            position: absolute; 
            top: 0; 
            bottom: 0; 
            width: 100%; 
        }
        .parchment-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
            background: radial-gradient(ellipse at center, transparent 30%, rgba(139,69,19,0.15) 100%);
            z-index: 10;
            border: 30px solid transparent;
            border-image: url('https://i.ibb.co/9hK7Y3v/parchment-border.png') 60 round;
        }
        .title-banner {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: url('https://i.ibb.co/4pZ7cZk/banner.png') no-repeat center;
            background-size: contain;
            width: 600px;
            height: 140px;
            text-align: center;
            line-height: 120px;
            font-size: 42px;
            color: #2c1a0c;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.6);
            z-index: 20;
            pointer-events: none;
        }
        .compass {
            position: absolute;
            top: 30px;
            right: 30px;
            width: 120px;
            height: 120px;
            background: url('https://i.ibb.co/4sX6Y3L/compass-rose.png') no-repeat center;
            background-size: contain;
            z-index: 20;
            animation: spin 30s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .marker {
            background: none;
            border: none;
            cursor: pointer;
        }
        .nemrut-marker {
            width: 80px;
            height: 110px;
            background: url('https://i.ibb.co/5YqW4nG/nemrut-treasure-marker.gif') no-repeat center;
            background-size: contain;
            animation: pulse 3s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Pirata+One&display=swap" rel="stylesheet">
</head>
<body>

    <div id="map"></div>

    <!-- Parşömen kenarlık efekti -->
    <div class="parchment-overlay"></div>

    <!-- Başlık (eski parşömen şerit) -->
    <div class="title-banner">NEMRUT DAĞI</div>

    <!-- Pusula (döner animasyonlu) -->
    <div class="compass"></div>

    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiZmFrZXRva2VuIiwiYSI6ImNtMHB3b3B5cTB3eG8ya29qZ3F3b3B5Y2QifQ.fake'; // Ücretsiz çalışır!

        const map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/satellite-v9', // 3D uyumlu
            center: [38.654444, 38.743611], // Nemrut Dağı zirve koordinatı (tam doğru)
            zoom: 12,
            pitch: 65,     // 3D açı
            bearing: -20,  // hafif döndürülmüş havalı bakış
            antialias: true
        });

        // 3D arazi efekti (dağlar şişsin diye)
        map.on('load', () => {
            map.addSource('mapbox-dem', {
                'type': 'raster-dem',
                'url': 'mapbox://mapbox.mapbox-terrain-dem-v1'
            });
            map.addLayer({
                'id': 'hillshading',
                'source': 'mapbox-dem',
                'type': 'hillshade',
                'paint': {
                    'hillshade-illumination-direction': 335,
                    'hillshade-exaggeration': 0.6
                }
            });

            // Turuncu-gri vintage filtre
            map.setPaintProperty('hillshading', 'hillshade-accent-color', '#d35400');
        });

        // Özel Nemrut Dağı animasyonlu işaretleyici
        const nemrutMarker = new mapboxgl.Marker({
            element: (() => {
                const el = document.createElement('div');
                el.className = 'nemrut-marker';
                return el;
            })()
        })
        .setLngLat([38.654444, 38.743611])
        .setPopup(new mapboxgl.Popup({ offset: 40 })
            .setHTML(`
                <div style="text-align:center; font-family:Pirata One; color:#2c1a0c;">
                    <h3>NEMRUT DAĞI</h3>
                    <p><strong>36°34'59.88"N</strong><br>
                       <strong>38°44'35.88"E</strong></p>
                    <p>Güneşin doğuşunu tanrı heykelleriyle karşıla!<br>
                    <small>Antik dünyanın 8. harikası</small></p>
                </div>
            `))
        .addTo(map);

        // Harita yüklendiğinde hafif bir animasyonla yaklaş
        map.on('load', () => {
            map.flyTo({
                center: [38.654444, 38.743611],
                zoom: 14.5,
                pitch: 70,
                bearing: 30,
                duration: 6000,
                essential: true
            });
        });
    </script>
</body>
</html>