<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>My Village ‚Äì Digital World</title>

<style>
html,body{
  margin:0;
  padding:0;
  background:#06150d;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display";
}
#topbar{
  position:fixed;
  top:0;left:0;right:0;
  height:48px;
  background:rgba(15,50,35,0.9);
  backdrop-filter:blur(14px);
  color:#fff;
  display:flex;
  align-items:center;
  padding-left:14px;
  font-weight:600;
  z-index:10;
}
canvas{display:block;}
</style>
</head>

<body>
<div id="topbar">üåç My Village ‚Äì Digital World</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>
/* SCENE */
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x0b2f1f);

/* CAMERA (SABƒ∞T A√áI ‚Äì OYUN Gƒ∞Bƒ∞) */
const camera = new THREE.PerspectiveCamera(55,innerWidth/innerHeight,0.1,500);
camera.position.set(15,18,18);
camera.lookAt(0,0,0);

/* RENDERER */
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
renderer.setPixelRatio(Math.min(devicePixelRatio,2));
document.body.appendChild(renderer.domElement);

/* LIGHT */
scene.add(new THREE.AmbientLight(0xffffff,0.9));
const sun=new THREE.DirectionalLight(0xfff1cc,1);
sun.position.set(25,40,15);
scene.add(sun);

/* MATERIALS */
const grass     = new THREE.MeshStandardMaterial({color:0x2ecc71});
const forestMat = new THREE.MeshStandardMaterial({color:0x145a32});
const rockMat   = new THREE.MeshStandardMaterial({color:0x7f8c8d});
const waterMat  = new THREE.MeshStandardMaterial({color:0x1abc9c});
const adminMat  = new THREE.MeshStandardMaterial({color:0xff9f1c});
const roadMat   = new THREE.MeshStandardMaterial({color:0xe67e22});

/* LAND */
const size = 25;
for(let x=-size/2;x<size/2;x++){
  for(let z=-size/2;z<size/2;z++){
    let mat = grass;

    // forest zone
    if(x > 5 && z < -3) mat = forestMat;

    // rocky zone
    if(x < -6 && z > 4) mat = rockMat;

    // lake
    if(x > -2 && x < 3 && z > -2 && z < 3) mat = waterMat;

    const tile = new THREE.Mesh(
      new THREE.BoxGeometry(1,0.25,1),
      mat
    );
    tile.position.set(x,0,z);
    scene.add(tile);
  }
}

/* RIVER (FROM LAKE) */
for(let i=0;i<10;i++){
  const river = new THREE.Mesh(
    new THREE.BoxGeometry(1,0.22,1),
    waterMat
  );
  river.position.set(2+i,0.11,2+i);
  scene.add(river);
}

/* ADMIN BUILDING */
const admin = new THREE.Mesh(
  new THREE.BoxGeometry(1.8,1.8,1.8),
  adminMat
);
admin.position.set(-2,1,-4);
scene.add(admin);

/* WORLD */
const world = new THREE.Mesh(
  new THREE.SphereGeometry(3,32,32),
  new THREE.MeshStandardMaterial({color:0x3498db})
);
world.position.set(-18,8,-18);
scene.add(world);

/* ROAD TO WORLD */
for(let i=0;i<10;i++){
  const road = new THREE.Mesh(
    new THREE.BoxGeometry(1,0.15,1),
    roadMat
  );
  road.position.set(-6-i,0.12,-6-i);
  scene.add(road);
}

/* TOUCH MAP MOVE (NAVƒ∞GASYON DEƒûƒ∞L) */
let sx=0,sy=0;
addEventListener("touchstart",e=>{
  sx=e.touches[0].clientX;
  sy=e.touches[0].clientY;
});
addEventListener("touchmove",e=>{
  const dx=(e.touches[0].clientX-sx)*0.02;
  const dy=(e.touches[0].clientY-sy)*0.02;
  camera.position.x -= dx;
  camera.position.z += dy;
  camera.lookAt(0,0,0);
  sx=e.touches[0].clientX;
  sy=e.touches[0].clientY;
});

/* ANIMATE */
function animate(){
  requestAnimationFrame(animate);
  world.rotation.y+=0.0015;
  renderer.render(scene,camera);
}
animate();

/* RESIZE */
addEventListener("resize",()=>{
  camera.aspect=innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
});
</script>
</body>
</html>